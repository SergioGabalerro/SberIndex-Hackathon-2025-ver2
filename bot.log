[2025-06-05 00:41:19,774] INFO: Инициализация ChatOpenAI (OpenAI) в качестве LLM
[2025-06-05 00:42:07,898] INFO: Инициализация ChatOpenAI (OpenAI) в качестве LLM
[2025-06-05 00:53:47,198] INFO: Инициализация ChatOpenAI (OpenAI) в качестве LLM
[2025-06-05 00:56:41,463] INFO: Инициализация ChatOpenAI (OpenAI) в качестве LLM
[2025-06-05 00:56:42,384] ERROR: Fatal error: TelegramBot.__init__() missing 3 required positional arguments: 'token', 'data_files', and 'data_descriptions'
[2025-06-05 01:04:38,581] INFO: Инициализация ChatOpenAI (OpenAI) в качестве LLM
[2025-06-05 01:17:33,637] INFO: Инициализация ChatOpenAI (OpenAI) в качестве LLM
[2025-06-05 01:17:34,706] ERROR: Отсутствуют файлы данных: data\mo_ref.xlsx
[2025-06-05 01:17:34,706] ERROR: Fatal error: Отсутствуют файлы данных: data\mo_ref.xlsx
[2025-06-05 01:18:57,634] INFO: Инициализация ChatOpenAI (OpenAI) в качестве LLM
[2025-06-05 01:18:58,818] INFO: [Классификатор] Инициализирован.
[2025-06-05 01:18:58,948] INFO: Успешно загружен файл: 1_market_access.parquet
[2025-06-05 01:18:59,065] INFO: Успешно загружен файл: 2_bdmo_population.parquet
[2025-06-05 01:18:59,089] INFO: Успешно загружен файл: 3_bdmo_migration.parquet
[2025-06-05 01:18:59,177] INFO: Успешно загружен файл: 4_bdmo_salary.parquet
[2025-06-05 01:18:59,226] INFO: Успешно загружен файл: 5_connection.parquet
[2025-06-05 01:19:00,046] INFO: Успешно загружен файл: mo_ref.xlsx
[2025-06-05 01:19:00,048] INFO: [Поисковик] Инициализирован.
[2025-06-05 01:19:00,048] INFO: [Генератор ответов] Инициализирован.
[2025-06-05 01:19:00,048] INFO: [Контекст] Инициализирован.
[2025-06-05 01:19:00,048] INFO: [Оркестратор] Инициализирован.
[2025-06-05 01:19:00,050] INFO: Start polling
[2025-06-05 01:19:00,269] INFO: Run polling for bot @ltbemt_bot id=7709142539 - 'ГородION - помощник по региональной аналитике.'
[2025-06-05 01:19:23,142] INFO: Update id=526914515 is not handled. Duration 0 ms by bot id=7709142539
[2025-06-05 01:20:19,508] INFO: Update id=526914516 is not handled. Duration 0 ms by bot id=7709142539
[2025-06-05 01:21:25,036] INFO: Polling stopped
[2025-06-05 01:21:25,290] INFO: Polling stopped for bot @ltbemt_bot id=7709142539 - 'ГородION - помощник по региональной аналитике.'
[2025-06-05 01:27:38,452] INFO: Инициализация ChatOpenAI (OpenAI) в качестве LLM
[2025-06-05 01:27:39,513] INFO: [Классификатор] Инициализирован.
[2025-06-05 01:27:39,553] INFO: Успешно загружен файл: 1_market_access.parquet
[2025-06-05 01:27:39,679] INFO: Успешно загружен файл: 2_bdmo_population.parquet
[2025-06-05 01:27:39,697] INFO: Успешно загружен файл: 3_bdmo_migration.parquet
[2025-06-05 01:27:39,766] INFO: Успешно загружен файл: 4_bdmo_salary.parquet
[2025-06-05 01:27:39,817] INFO: Успешно загружен файл: 5_connection.parquet
[2025-06-05 01:27:40,414] INFO: Успешно загружен файл: mo_ref.xlsx
[2025-06-05 01:27:40,414] INFO: [Поисковик] Инициализирован.
[2025-06-05 01:27:40,414] INFO: [Генератор ответов] Инициализирован.
[2025-06-05 01:27:40,414] INFO: [Контекст] Инициализирован.
[2025-06-05 01:27:40,414] INFO: [Оркестратор] Инициализирован.
[2025-06-05 01:27:40,416] INFO: Start polling
[2025-06-05 01:27:40,646] INFO: Run polling for bot @ltbemt_bot id=7709142539 - 'ГородION - помощник по региональной аналитике.'
[2025-06-05 01:27:52,550] INFO: Update id=526914517 is handled. Duration 484 ms by bot id=7709142539
[2025-06-05 01:28:02,616] INFO: [LLM] Отправка запроса: Определи, относится ли запрос к анализу муниципальных данных. Критерии: население, зарплаты, миграци...
[2025-06-05 01:28:03,861] INFO: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-06-05 01:28:03,876] INFO: [LLM] Получен ответ: valid...
[2025-06-05 01:28:03,877] INFO: [LLM] Отправка запроса: У тебя есть следующие таблицы с муниципальными данными. Ниже указано имя таблицы и её краткое описан...
[2025-06-05 01:28:04,978] INFO: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-06-05 01:28:04,981] INFO: [LLM] Получен ответ: {"datasets": ["population", "mo_ref"]}...
[2025-06-05 01:28:05,409] INFO: [LLM] Отправка запроса: У тебя есть pandas DataFrame с именем df, который содержит данные из нескольких таблиц, объединённых...
[2025-06-05 01:28:06,603] INFO: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-06-05 01:28:06,606] INFO: [LLM] Получен ответ: ```python
# Группируем данные по municipal_district_name и year, суммируем значения value и сортируе...
[2025-06-05 01:28:07,273] INFO: Update id=526914518 is handled. Duration 4655 ms by bot id=7709142539
[2025-06-05 01:28:50,444] INFO: [LLM] Отправка запроса: Определи, является ли новый запрос уточнением предыдущего.
Предыдущий: 'Выбери мне три Самых населён...
[2025-06-05 01:28:51,376] INFO: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-06-05 01:28:51,377] INFO: [LLM] Получен ответ: {"is_continuation": false}...
[2025-06-05 01:28:51,378] INFO: [LLM] Отправка запроса: Определи, относится ли запрос к анализу муниципальных данных. Критерии: население, зарплаты, миграци...
[2025-06-05 01:28:52,327] INFO: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-06-05 01:28:52,331] INFO: [LLM] Получен ответ: valid...
[2025-06-05 01:28:52,331] INFO: [LLM] Отправка запроса: У тебя есть следующие таблицы с муниципальными данными. Ниже указано имя таблицы и её краткое описан...
[2025-06-05 01:28:52,805] INFO: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-06-05 01:28:52,808] INFO: [LLM] Получен ответ: {"datasets": ["population"]}...
[2025-06-05 01:28:53,222] INFO: [LLM] Отправка запроса: У тебя есть pandas DataFrame с именем df, который содержит данные из нескольких таблиц, объединённых...
[2025-06-05 01:28:54,026] INFO: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-06-05 01:28:54,032] INFO: [LLM] Получен ответ: ```python
result = df[df['year'] == 2024].groupby('municipal_district_name')['value'].sum().nsmalles...
[2025-06-05 01:28:54,795] INFO: Update id=526914519 is handled. Duration 4344 ms by bot id=7709142539
[2025-06-05 01:30:01,005] INFO: Polling stopped
[2025-06-05 01:30:01,257] INFO: Polling stopped for bot @ltbemt_bot id=7709142539 - 'ГородION - помощник по региональной аналитике.'
